<!DOCTYPE html>
<html>
<head>
    <title>SIRCAR Procesar</title>
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="JS/jquery/jquery-3.5.1.min.js" type="text/javascript"></script>
</head>
<body>
    <!-- Menú fijo -->
    <ul>
        <li><a href="javascript:processDocument()" id="process_id">Procesar Archivo</a></li>
        <li><a href="javascript:pop();">Exportar a CSV para SIRCAR</a></li>
        <li><a href="javascript:void(0);" id="removerFacturasBtn">Remover Facturas</a></li>
    </ul>

    <!-- Contenedor principal -->
    <div class="action_container">
        <div class="c_files">
            <div>
                <input type="file" name="file" id="file" multiple accept=".txt,.csv">
                <p></p>
            </div>
            <div id="fileNamesId"></div>
        </div>
    </div> <!-- End Action Container -->

    <!-- Tabla de facturas generada dinámicamente -->
    <div id="main">
        <!-- La tabla se generará aquí con la cabecera sticky -->
    </div>

    <div id="MONTO_ID">
        <span>Total Monto Retenido</span>
    </div>

    <div id="TOTAL_ID"></div>

    <script src="JS/readFile_v2.js"></script>
    <script type="text/javascript">
        // Función para eliminar filas seleccionadas en la tabla
        document.getElementById("removerFacturasBtn").addEventListener("click", function () {
            const checkboxes = document.querySelectorAll('.remove-checkbox');
            checkboxes.forEach((checkbox) => {
                if (checkbox.checked) {
                    const row = checkbox.closest('tr');
                    row.remove(); // Eliminar la fila seleccionada
                }
            });
        });
    </script>
</body>
</html>
